import {memo, useCallback, useEffect} from 'react';import {useParams} from 'react-router-dom';import useStore from '../../store/use-store';import useSelector from '../../store/use-selector';import ProductLayout from '../../components/product-layout';import Head from '../../components/head';import LangSwitcher from '../../components/lang-switcher';import Subheader from '../../components/subheader';import Navigation from '../../components/navigation';import BasketTool from '../../components/basket-tool';import PageLayout from '../../components/page-layout';import Spinner from '../../components/spinner';function Product() {  const {id} = useParams()  const store = useStore();    const select = useSelector(state => ({    product: state.product.info,    amount: state.basket.amount,    sum: state.basket.sum,  }));    useEffect(() => {    store.actions.product.load(id);    return () => store.actions.product.clear()  }, [id]);    const callbacks = {    // Добавление в корзину    addToBasket: useCallback(_id => store.actions.basket.addToBasket(_id), [store]),    // Открытие модалки корзины    openModalBasket: useCallback(() => store.actions.modals.open('basket'), [store]),    // Изменение языка    changeLang: useCallback(lang => store.actions.language.setLanguage(lang), [store])  };    return (    <PageLayout>      {!select.product ? <Spinner/> :        <>          <Head title={select.product.title}>            <LangSwitcher onSelect={callbacks.changeLang}/>          </Head>          <Subheader>            <Navigation/>            <BasketTool onOpen={callbacks.openModalBasket} amount={select.amount} sum={select.sum}/>          </Subheader>          <ProductLayout data={select.product} onAdd={callbacks.addToBasket}/>        </>      }    </PageLayout>);}export default memo(Product);